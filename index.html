<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Eureka Studio</title>
<meta name="description" content="Eureka Studio ‚Äî luxury handcrafted candles and resin art."/>
<style>
  :root{
    --bg:#f6f1e9; --paper:#fff; --ink:#262626; --muted:#6b6b6b;
    --brand:#0e1116; --chip:#efe8db; --ring:rgba(0,0,0,.08);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink);line-height:1.6}
  a{color:inherit;text-decoration:none}
  header{position:sticky;top:0;background:var(--brand);color:#e8dcc6;z-index:10}
  .wrap{max-width:1120px;margin:0 auto;padding:0 18px}
  .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
  .logo{font-weight:800;letter-spacing:.3px;font-size:22px}
  .menu{display:flex;gap:20px;align-items:center}
  .menu a{color:#e8dcc6;opacity:.9}
  .menu a:hover{opacity:1}
  .lang{display:flex;gap:10px;align-items:center}
  .chip{display:inline-flex;gap:8px;align-items:center;background:var(--chip);color:#1d1d1d;padding:8px 12px;border-radius:999px;font-weight:600}
  main{padding:32px 0 80px}
  .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
  .hero img{width:100%;height:auto;border-radius:16px;box-shadow:0 8px 30px var(--ring);background:#ddd;object-fit:cover}
  h1{font-size:44px;line-height:1.15;margin-bottom:14px}
  .lead{font-size:18px;color:var(--muted)}
  .section{margin-top:56px}
  h2{font-size:32px;margin-bottom:18px;text-align:center}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:22px}
  @media (min-width:900px){.grid{grid-template-columns:repeat(3,1fr)}}
  .card{background:var(--paper);border-radius:16px;box-shadow:0 10px 30px var(--ring);overflow:hidden;display:flex;flex-direction:column}
  .card img{width:100%;aspect-ratio:4/3;object-fit:cover;background:#ddd}
  .card-body{padding:16px}
  .title{font-weight:800;font-size:20px;margin-bottom:6px}
  .subtitle{color:var(--muted)}
  .btn{display:inline-flex;align-items:center;gap:8px;margin-top:12px;background:#1f1f1f;color:#f3efe6;border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn:hover{filter:brightness(1.05)}
  .contact{margin-top:56px;text-align:center}
  footer{margin-top:56px;padding:28px 0;text-align:center;color:var(--muted);border-top:1px solid #e6dfd2}
  /* Modal */
  .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.42);padding:16px}
  .modal.open{display:grid}
  .sheet{max-width:860px;width:100%;background:var(--paper);border-radius:16px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.28)}
  .sheet-grid{display:grid;grid-template-columns:1fr 1fr}
  .sheet figure{margin:0}
  .sheet img{width:100%;height:100%;object-fit:cover;background:#ddd}
  .sheet-body{padding:20px 22px}
  .sheet h3{font-size:26px;margin-bottom:6px}
  .meta{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:14px 0 6px}
  .meta div{background:#faf7f2;border:1px dashed #e6dfd2;border-radius:10px;padding:10px 12px}
  .notes{color:var(--muted);margin-top:6px}
  .x{position:absolute;top:14px;right:16px;background:#fff;border:0;border-radius:10px;padding:8px 10px;cursor:pointer;box-shadow:0 6px 20px var(--ring)}
  @media (max-width:860px){
    .hero{grid-template-columns:1fr;gap:18px}
    h1{font-size:32px}
    .sheet-grid{grid-template-columns:1fr}
  }
</style>
</head>
<body>
<header>
  <div class="wrap nav">
    <div class="logo">Eureka Studio</div>
    <nav class="menu">
      <a href="#about" data-i="nav_about">About</a>
      <a href="#works" data-i="nav_works">Works</a>
      <a href="#contact" data-i="nav_contact">Contact</a>
      <div class="lang chip">
        üåê <a href="#" data-lang="en">EN</a> | <a href="#" data-lang="tr">TR</a> | <a href="#" data-lang="he">HE</a>
      </div>
    </nav>
  </div>
</header>

<main class="wrap">
  <!-- HERO -->
  <section id="about" class="hero">
    <div>
      <h1 data-i="hero_title">Making candles is simple ‚Äî and wonderful for everyone.</h1>
      <p class="lead" data-i="hero_sub">High-quality craft scents, cozy colors and textures that turn moments into memories.</p>
    </div>
    <img src="home-candles-hero.JPG" alt="Home candles hero" loading="eager">
  </section>

  <!-- WORKS -->
  <section id="works" class="section">
    <h2 data-i="works_title">Our Works</h2>
    <div class="grid">
      <!-- 1 Evil Eye -->
      <article class="card" data-key="evilEye">
        <img src="evil-eye.jpg.jpg" alt="Evil Eye">
        <div class="card-body">
          <div class="title" data-i="evilEye_title">Evil Eye</div>
          <div class="subtitle" data-i="evilEye_teaser">A protective symbol that brings calm and balance.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>

      <!-- 2 Summer Cocktail -->
      <article class="card" data-key="summerCocktail">
        <img src="summer-cocktail.JPG" alt="Summer Cocktail">
        <div class="card-body">
          <div class="title" data-i="summerCocktail_title">Summer Cocktail</div>
          <div class="subtitle" data-i="summerCocktail_teaser">Layered colors that recall a breezy summer drink.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>

      <!-- 3 Choco Cream -->
      <article class="card" data-key="chocoCream">
        <img src="choco-cream.JPG" alt="Choco Cream">
        <div class="card-body">
          <div class="title" data-i="chocoCream_title">Choco Cream</div>
          <div class="subtitle" data-i="chocoCream_teaser">Sweet vibes, creamy textures, modern look.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>

      <!-- 4 Golden Noir -->
      <article class="card" data-key="goldenNoir">
        <img src="golden-noir.PNG" alt="Golden Noir">
        <div class="card-body">
          <div class="title" data-i="goldenNoir_title">Golden Noir</div>
          <div class="subtitle" data-i="goldenNoir_teaser">Matte black body with elegant gold details.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>

      <!-- 5 Caramel Crumble -->
      <article class="card" data-key="caramelCrumble">
        <img src="caramel-crumble.JPG" alt="Caramel Crumble">
        <div class="card-body">
          <div class="title" data-i="caramelCrumble_title">Caramel Crumble</div>
          <div class="subtitle" data-i="caramelCrumble_teaser">Warm caramel notes and a delicious look.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>

      <!-- 6 Sunset Orange -->
      <article class="card" data-key="sunsetOrange">
        <img src="sunset-orange.JPG" alt="Sunset Orange">
        <div class="card-body">
          <div class="title" data-i="sunsetOrange_title">Sunset Orange</div>
          <div class="subtitle" data-i="sunsetOrange_teaser">Citrus glow inspired by golden-hour skies.</div>
          <button class="btn" data-open data-i="btn_details">View details</button>
        </div>
      </article>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="contact section">
    <h2 data-i="contact_title">Contact</h2>
    <p data-i="contact_sub">For questions and orders:</p>
    <p style="margin-top:8px">
      <a href="https://instagram.com" target="_blank" rel="noopener">Instagram</a> ¬∑
      <a href="#" title="Soon">Pinterest</a> ¬∑
      <a href="mailto:hello@eurekastudio.org">Email</a>
    </p>
  </section>

  <footer>
    <div>¬© 2025 Eureka Studio ‚Äî All rights reserved.</div>
    <div style="margin-top:6px">Crafted with love üçÄ</div>
  </footer>
</main>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="sheet x-container">
    <button class="x" aria-label="Close" id="close">‚úï</button>
    <div class="sheet-grid">
      <figure><img id="mImg" alt=""></figure>
      <div class="sheet-body">
        <h3 id="mTitle">Title</h3>
        <p class="notes" id="mTeaser"></p>
        <div class="meta">
          <div><strong data-i="f_materials">Materials</strong><br><span id="mMaterials"></span></div>
          <div><strong data-i="f_fragrance">Fragrance</strong><br><span id="mFragrance"></span></div>
          <div><strong data-i="f_burn">Burn Time</strong><br><span id="mBurn"></span></div>
          <div><strong data-i="f_weight">Weight</strong><br><span id="mWeight"></span></div>
        </div>
        <p class="notes" id="mNotes"></p>
      </div>
    </div>
  </div>
</div>

<script>
/* ---------- i18n strings ---------- */
const I18N = {
  en:{
    nav_about:"About", nav_works:"Works", nav_contact:"Contact",
    hero_title:"Making candles is simple ‚Äî and wonderful for everyone.",
    hero_sub:"High-quality craft scents, cozy colors and textures that turn moments into memories.",
    works_title:"Our Works", contact_title:"Contact", contact_sub:"For questions and orders:",
    btn_details:"View details",
    f_materials:"Materials", f_fragrance:"Fragrance", f_burn:"Burn Time", f_weight:"Weight",
    items:{
      evilEye:{
        title:"Evil Eye",
        teaser:"A protective symbol that brings calm and balance.",
        materials:"100% soy wax, cotton wick, glass",
        fragrance:"Sea salt ‚Ä¢ White musk",
        burn:"30‚Äì35 h",
        weight:"~220 g",
        notes:"Hand-poured in small batches."
      },
      summerCocktail:{
        title:"Summer Cocktail",
        teaser:"Layered colors that recall a breezy summer drink.",
        materials:"Soy wax blend, cotton wick, glass",
        fragrance:"Pineapple ‚Ä¢ Mango ‚Ä¢ Coconut",
        burn:"28‚Äì32 h",
        weight:"~210 g",
        notes:"Vibrant layered pour with smooth finish."
      },
      chocoCream:{
        title:"Choco Cream",
        teaser:"Sweet vibes, creamy textures, modern look.",
        materials:"Soy-coconut wax, cotton wick, glass",
        fragrance:"Cocoa ‚Ä¢ Vanilla ‚Ä¢ Tonka",
        burn:"32‚Äì36 h",
        weight:"~230 g",
        notes:"Dessert-inspired, cozy & warm."
      },
      goldenNoir:{
        title:"Golden Noir",
        teaser:"Matte black body with elegant gold details.",
        materials:"Premium soy wax, wood wick, ceramic",
        fragrance:"Amber ‚Ä¢ Oud ‚Ä¢ Bergamot",
        burn:"35‚Äì40 h",
        weight:"~240 g",
        notes:"Minimal luxe piece for modern homes."
      },
      caramelCrumble:{
        title:"Caramel Crumble",
        teaser:"Warm caramel notes and a delicious look.",
        materials:"Soy-coconut wax, cotton wick, glass",
        fragrance:"Salted caramel ‚Ä¢ Vanilla",
        burn:"30‚Äì34 h",
        weight:"~220 g",
        notes:"Comforting bakery-style aroma."
      },
      sunsetOrange:{
        title:"Sunset Orange",
        teaser:"Citrus glow inspired by golden-hour skies.",
        materials:"Soy wax, cotton wick, glass",
        fragrance:"Blood orange ‚Ä¢ Neroli",
        burn:"28‚Äì32 h",
        weight:"~210 g",
        notes:"Fresh, bright, mood-lifting."
      }
    }
  },
  tr:{
    nav_about:"Hakkƒ±mƒ±zda", nav_works:"√áalƒ±≈ümalar", nav_contact:"ƒ∞leti≈üim",
    hero_title:"Mum yapmak basit ‚Äî ve herkes i√ßin harika bir deneyim.",
    hero_sub:"Y√ºksek kaliteli kokular, sƒ±cak renkler ve dokular anƒ±larƒ± g√ºzelle≈ütirir.",
    works_title:"√áalƒ±≈ümalarƒ±mƒ±z", contact_title:"ƒ∞leti≈üim", contact_sub:"Soru ve sipari≈ü i√ßin:",
    btn_details:"Detaylarƒ± g√∂r",
    f_materials:"Malzemeler", f_fragrance:"Koku", f_burn:"Yanma S√ºresi", f_weight:"Aƒüƒ±rlƒ±k",
    items:{
      evilEye:{
        title:"Evil Eye",
        teaser:"Sakinlik ve denge getiren koruyucu bir sembol.",
        materials:"%100 soya mumu, pamuk fitil, cam",
        fragrance:"Deniz tuzu ‚Ä¢ Beyaz misk",
        burn:"30‚Äì35 saat",
        weight:"~220 g",
        notes:"K√º√ß√ºk partiler h√¢linde elde d√∂k√ºl√ºr."
      },
      summerCocktail:{
        title:"Summer Cocktail",
        teaser:"Esintili bir yaz i√ßeceƒüini anƒ±msatan katmanlƒ± renkler.",
        materials:"Soya mum karƒ±≈üƒ±mƒ±, pamuk fitil, cam",
        fragrance:"Ananas ‚Ä¢ Mango ‚Ä¢ Hindistan cevizi",
        burn:"28‚Äì32 saat",
        weight:"~210 g",
        notes:"Canlƒ± katman d√∂k√ºm, p√ºr√ºzs√ºz biti≈ü."
      },
      chocoCream:{
        title:"Choco Cream",
        teaser:"Tatlƒ± bir hava, kremamsƒ± dokular, modern g√∂r√ºn√ºm.",
        materials:"Soya-hindistan cevizi mumu, pamuk fitil, cam",
        fragrance:"Kakao ‚Ä¢ Vanilya ‚Ä¢ Tonka",
        burn:"32‚Äì36 saat",
        weight:"~230 g",
        notes:"Tatlƒ± esintili, sƒ±cacƒ±k bir atmosfer."
      },
      goldenNoir:{
        title:"Golden Noir",
        teaser:"Mat siyah g√∂vde, zarif altƒ±n detaylar.",
        materials:"Premium soya mumu, ah≈üap fitil, seramik",
        fragrance:"Amber ‚Ä¢ Oud ‚Ä¢ Bergamot",
        burn:"35‚Äì40 saat",
        weight:"~240 g",
        notes:"Modern mek√¢nlar i√ßin minimal l√ºks."
      },
      caramelCrumble:{
        title:"Caramel Crumble",
        teaser:"Sƒ±cak karamelli notalar ve i≈ütah a√ßan g√∂r√ºn√ºm.",
        materials:"Soya-hindistan cevizi mumu, pamuk fitil, cam",
        fragrance:"Tuzlu karamel ‚Ä¢ Vanilya",
        burn:"30‚Äì34 saat",
        weight:"~220 g",
        notes:"Pastane esintili, konforlu koku."
      },
      sunsetOrange:{
        title:"Sunset Orange",
        teaser:"Altƒ±n saat g√∂ky√ºz√ºnden ilham alan turun√ß parƒ±ltƒ±sƒ±.",
        materials:"Soya mumu, pamuk fitil, cam",
        fragrance:"Kan portakalƒ± ‚Ä¢ Neroli",
        burn:"28‚Äì32 saat",
        weight:"~210 g",
        notes:"Ferahlƒ±k, canlƒ±lƒ±k, enerji."
      }
    }
  },
  he:{
    nav_about:"◊ê◊ï◊ì◊ï◊™", nav_works:"◊¢◊ë◊ï◊ì◊ï◊™", nav_contact:"◊¶◊®◊ï ◊ß◊©◊®",
    hero_title:"◊ô◊¶◊ô◊®◊™ ◊†◊®◊ï◊™ ◊î◊ô◊ê ◊§◊©◊ï◊ò◊î ‚Äî ◊ï◊†◊§◊ú◊ê◊î ◊ú◊õ◊ï◊ú◊ù.",
    hero_sub:"◊†◊ô◊ó◊ï◊ó◊ï◊™ ◊ê◊ô◊õ◊ï◊™◊ô◊ô◊ù, ◊¶◊ë◊¢◊ô◊ù ◊ó◊û◊ô◊ù ◊ï◊û◊®◊ß◊û◊ô◊ù ◊©◊î◊ï◊§◊õ◊ô◊ù ◊®◊í◊¢◊ô◊ù ◊ú◊ñ◊ô◊õ◊®◊ï◊†◊ï◊™.",
    works_title:"◊î◊¢◊ë◊ï◊ì◊ï◊™ ◊©◊ú◊†◊ï", contact_title:"◊¶◊®◊ï ◊ß◊©◊®", contact_sub:"◊ú◊©◊ê◊ú◊ï◊™ ◊ï◊î◊ñ◊û◊†◊ï◊™:",
    btn_details:"◊§◊®◊ò◊ô◊ù",
    f_materials:"◊ó◊ï◊û◊®◊ô◊ù", f_fragrance:"◊†◊ô◊ó◊ï◊ó", f_burn:"◊ñ◊û◊ü ◊ë◊¢◊ô◊®◊î", f_weight:"◊û◊©◊ß◊ú",
    items:{
      evilEye:{
        title:"Evil Eye",
        teaser:"◊°◊û◊ú ◊û◊í◊ü ◊©◊û◊ë◊ô◊ê ◊®◊ï◊í◊¢ ◊ï◊ê◊ô◊ñ◊ï◊ü.",
        materials:"100% ◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î, ◊§◊™◊ô◊ú◊™ ◊õ◊ï◊™◊†◊î, ◊ñ◊õ◊ï◊õ◊ô◊™",
        fragrance:"◊û◊ú◊ó ◊ô◊ù ‚Ä¢ ◊û◊ê◊°◊ß ◊ú◊ë◊ü",
        burn:"30‚Äì35 ◊©◊¢◊ï◊™",
        weight:"~220 ◊í◊®◊ù",
        notes:"◊†◊û◊ñ◊í ◊ë◊¢◊ë◊ï◊ì◊™ ◊ô◊ì ◊ë◊õ◊û◊ï◊ô◊ï◊™ ◊ß◊ò◊†◊ï◊™."
      },
      summerCocktail:{
        title:"Summer Cocktail",
        teaser:"◊¶◊ë◊¢◊ô◊ù ◊ë◊©◊õ◊ë◊ï◊™ ◊î◊û◊ñ◊õ◊ô◊®◊ô◊ù ◊ß◊ï◊ß◊ò◊ô◊ô◊ú ◊ß◊ô◊¶◊ô ◊ï◊®◊¢◊†◊ü.",
        materials:"◊™◊¢◊®◊ï◊ë◊™ ◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î, ◊§◊™◊ô◊ú◊™ ◊õ◊ï◊™◊†◊î, ◊ñ◊õ◊ï◊õ◊ô◊™",
        fragrance:"◊ê◊†◊†◊° ‚Ä¢ ◊û◊†◊í◊ï ‚Ä¢ ◊ß◊ï◊ß◊ï◊°",
        burn:"28‚Äì32 ◊©◊¢◊ï◊™",
        weight:"~210 ◊í◊®◊ù",
        notes:"◊û◊ñ◊ô◊í◊î ◊ë◊©◊õ◊ë◊ï◊™ ◊ë◊í◊ô◊û◊ï◊® ◊ó◊ú◊ß."
      },
      chocoCream:{
        title:"Choco Cream",
        teaser:"◊ê◊ï◊ï◊ô◊®◊î ◊û◊™◊ï◊ß◊î, ◊û◊®◊ß◊ù ◊ß◊®◊û◊ô ◊ï◊û◊®◊ê◊î ◊û◊ï◊ì◊®◊†◊ô.",
        materials:"◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î-◊ß◊ï◊ß◊ï◊°, ◊§◊™◊ô◊ú◊™ ◊õ◊ï◊™◊†◊î, ◊ñ◊õ◊ï◊õ◊ô◊™",
        fragrance:"◊ß◊ß◊ê◊ï ‚Ä¢ ◊ï◊†◊ô◊ú ‚Ä¢ ◊ò◊ï◊†◊ß◊î",
        burn:"32‚Äì36 ◊©◊¢◊ï◊™",
        weight:"~230 ◊í◊®◊ù",
        notes:"◊î◊©◊®◊ê◊î ◊©◊ú ◊ß◊ô◊†◊ï◊ó◊ô◊ù ◊ó◊û◊ô◊ù ◊ï◊û◊ó◊ë◊ß◊ô◊ù."
      },
      goldenNoir:{
        title:"Golden Noir",
        teaser:"◊í◊ï◊£ ◊©◊ó◊ï◊® ◊û◊ò ◊¢◊ù ◊§◊®◊ò◊ô ◊ñ◊î◊ë ◊ê◊ú◊í◊†◊ò◊ô◊ô◊ù.",
        materials:"◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î ◊§◊®◊ô◊û◊ô◊ï◊ù, ◊§◊™◊ô◊ú ◊¢◊•, ◊ß◊®◊û◊ô◊ß◊î",
        fragrance:"◊¢◊†◊ë◊® ‚Ä¢ ◊ê◊ï◊ì ‚Ä¢ ◊ë◊®◊í◊û◊ï◊ò",
        burn:"35‚Äì40 ◊©◊¢◊ï◊™",
        weight:"~240 ◊í◊®◊ù",
        notes:"◊û◊ô◊†◊ô◊û◊ú◊ô◊°◊ò◊ô ◊ï◊û◊§◊ï◊ê◊® ◊ú◊ë◊ô◊™ ◊û◊ï◊ì◊®◊†◊ô."
      },
      caramelCrumble:{
        title:"Caramel Crumble",
        teaser:"◊™◊ï◊ï◊ô ◊ß◊®◊û◊ú ◊ó◊û◊ô◊ù ◊ï◊û◊®◊ê◊î ◊û◊í◊®◊î.",
        materials:"◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î-◊ß◊ï◊ß◊ï◊°, ◊§◊™◊ô◊ú◊™ ◊õ◊ï◊™◊†◊î, ◊ñ◊õ◊ï◊õ◊ô◊™",
        fragrance:"◊ß◊®◊û◊ú ◊û◊ú◊ï◊ó ‚Ä¢ ◊ï◊†◊ô◊ú",
        burn:"30‚Äì34 ◊©◊¢◊ï◊™",
        weight:"~220 ◊í◊®◊ù",
        notes:"◊†◊ô◊ó◊ï◊ó ◊û◊ê◊§◊ô◊ô◊î ◊û◊†◊ó◊ù."
      },
      sunsetOrange:{
        title:"Sunset Orange",
        teaser:"◊ñ◊ï◊î◊® ◊î◊ì◊®◊ô◊ù ◊ë◊î◊©◊®◊ê◊™ ◊©◊¢◊ï◊™ ◊î◊ñ◊î◊ë.",
        materials:"◊©◊¢◊ï◊ï◊™ ◊°◊ï◊ô◊î, ◊§◊™◊ô◊ú◊™ ◊õ◊ï◊™◊†◊î, ◊ñ◊õ◊ï◊õ◊ô◊™",
        fragrance:"◊™◊§◊ï◊ñ ◊ì◊ù ‚Ä¢ ◊†◊®◊ï◊ú◊ô",
        burn:"28‚Äì32 ◊©◊¢◊ï◊™",
        weight:"~210 ◊í◊®◊ù",
        notes:"◊®◊¢◊†◊ü, ◊ë◊î◊ô◊® ◊ï◊û◊®◊ô◊ù ◊û◊¶◊ë ◊®◊ï◊ó."
      }
    }
  }
};

/* ---------- runtime helpers ---------- */
const $ = (s,root=document)=>root.querySelector(s);
const $$ = (s,root=document)=>[...root.querySelectorAll(s)];

let lang = (localStorage.getItem("lang") || (navigator.language||"en").slice(0,2)).toLowerCase();
if(!["en","tr","he"].includes(lang)) lang="en";

/* apply language */
function applyLang(){
  const pack = I18N[lang];

  // nav & static
  $$("[data-i]").forEach(el=>{
    const key = el.getAttribute("data-i");
    if(pack[key]) el.textContent = pack[key];
  });

  // item cards titles & teasers
  $$(".card").forEach(card=>{
    const key = card.getAttribute("data-key");
    const d = pack.items[key];
    if(!d) return;
    $("[data-i$='_title']",card).textContent = d.title;
    $("[data-i$='_teaser']",card).textContent = d.teaser;
  });

  // modal field labels
  $("[data-i='f_materials']").textContent = pack.f_materials;
  $("[data-i='f_fragrance']").textContent = pack.f_fragrance;
  $("[data-i='f_burn']").textContent = pack.f_burn;
  $("[data-i='f_weight']").textContent = pack.f_weight;
  $$(".btn[data-open]").forEach(b=>b.textContent = pack.btn_details);

  // dir for Hebrew
  document.documentElement.dir = (lang==="he")?"rtl":"ltr";
  document.documentElement.lang = lang;
}
applyLang();

/* language switcher */
$$("[data-lang]").forEach(a=>{
  a.addEventListener("click",(e)=>{
    e.preventDefault();
    lang = a.getAttribute("data-lang");
    localStorage.setItem("lang",lang);
    applyLang();
  });
});

/* modal logic */
const modal = $("#modal"), mImg=$("#mImg"), mTitle=$("#mTitle"),
      mTeaser=$("#mTeaser"), mMaterials=$("#mMaterials"),
      mFragrance=$("#mFragrance"), mBurn=$("#mBurn"),
      mWeight=$("#mWeight"), mNotes=$("#mNotes");
function openModal(key){
  const d = I18N[lang].items[key];
  const card = document.querySelector(`.card[data-key='${key}'] img`);
  mImg.src = card.getAttribute("src");
  mImg.alt = d.title;
  mTitle.textContent = d.title;
  mTeaser.textContent = d.teaser;
  mMaterials.textContent = d.materials;
  mFragrance.textContent = d.fragrance;
  mBurn.textContent = d.burn;
  mWeight.textContent = d.weight;
  mNotes.textContent = d.notes;
  modal.classList.add("open");
}
$$(".card .btn[data-open]").forEach(btn=>{
  btn.addEventListener("click",()=>{
    const key = btn.closest(".card").getAttribute("data-key");
    openModal(key);
  });
});
$("#close").addEventListener("click",()=>modal.classList.remove("open"));
modal.addEventListener("click",(e)=>{ if(e.target===modal) modal.classList.remove("open"); });
</script>
</body>
</html>
